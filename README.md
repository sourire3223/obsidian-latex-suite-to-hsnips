# obsidian-latex-suite-to-hsnips
This repository contains a script to convert [obsidian-latex-suite](https://github.com/artisticat1/obsidian-latex-suite) snippets to [OrangeX4/HyperSnips](https://github.com/OrangeX4/hsnips?tab=readme-ov-file) format.

The code is generated by GitHub Copilot with Claude 3.7 sonnet (preview) and is not well tested. Use at your own risk.

## Usage

```bash
cargo run <path-to-obsidian-latex-suite-snippets> -o <path-to-output-hsnips-file>
```

For example:

```bash
cargo run ./default_snippets.js -o ./markdown.hsnips
```

### For someone new to HyperSnips
1. Download the VSCode extension [HyperSnips for Math](https://marketplace.visualstudio.com/items?itemName=OrangeX4.hsnips).
2. Run the script to convert the snippets.
3. Place `markdown.hsnips` in the directory specified by [OrangeX4/HyperSnips](https://github.com/OrangeX4/hsnips?tab=readme-ov-file).
4. For VSCode 1.98.2, add the following configuration to `settings.json`:

```json
"[markdown]": {
    "editor.quickSuggestions": {
        "comments": "on",
        "strings": "on",
        "other": "on"
    }
}
```
5. Refer to the [discussion](#discussion) section if you encounter any differences in behavior between obsidian-latex-suite and hsnips.

## A Short Snippet from GitHub Copilot Chat

This program:

1. Parses command-line arguments to handle the specified usage format.
2. Reads the input file line by line.
3. Preserves comments by converting them to the hsnips format (prefix with `#` instead of `//`).
4. Properly transforms snippet definitions to start with `snippet` and end with `endsnippet`.
5. Handles regex patterns, options mapping, priorities, and descriptions.
6. Converts literal `\n` in replacements to actual newlines.
7. Skips JavaScript function replacements (as they can't be directly translated).
8. Outputs statistics about the conversion process.

The options mapping is particularly important, as it translates the options from the latex-snippets format to what's expected in the hsnips format.

## Discussion

1. Some triggers don't convert correctly, but that's not a big deal for me. 
2. Some triggers don't work with the `tab` key in VSCode, for example `//`, `->`, so I set them to auto-trigger using the `A` flag.
3. If hsnips has empty descriptions, `editor.quickSuggestions` won't show the ssnippets (?). So, I set the description to the trigger name.
